
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tax-Calculator Calculator &#8212; Tax-Calculator</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/calculator';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tax-Calculator Consumption" href="consumption.html" />
    <link rel="prev" title="Tax-Calculator CalcFunctions" href="calcfunctions.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/PSL.svg" class="logo__image only-light" alt="Tax-Calculator - Home"/>
    <script>document.write(`<img src="../_static/PSL.svg" class="logo__image only-dark" alt="Tax-Calculator - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Tax-Calculator
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Usage</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../usage/starting.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/overview.html">Structural overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/data.html">Data for Tax-Calculator</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guide/index.html">User guide</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../guide/python_interface.html">Python interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/cli.html">Command-line interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/policy_params.html">Policy parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/input_vars.html">Input variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/output_vars.html">Output variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guide/assumption_params.html">Assumption parameters</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../recipes/index.html">Recipes</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../recipes/recipe00.html">Basic Recipe: Static Analysis of a Simple Reform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/recipe01.html">Recipe 1: Directly Comparing Two Reforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/recipe02.html">Recipe 2: Estimating Behavioral Response to Reform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/recipe03.html">Recipe 3: Creating a Custom Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/recipe04.html">Recipe 4: Estimating Differential Reform Response</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/recipe04_pandas.html">Recipe 4: Estimating Differential Reform Response - pandas version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/recipe05.html">Recipe 5: Redefining Expanded Income</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recipes/recipe06.html">Recipe 6: Analyzing a Non-Parametric Reform</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/tcja_after_2025.html">TCJA after 2025</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../about/history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/releases.html">Release history</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/LICENSE.html">License</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../contributing/contributor_guide.html">Contributor guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/pr_workflow.html">Pull request workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/param_naming.html">Policy parameter naming and placing conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/RELEASING.html">Releasing Tax-Caclculator Packages</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="public_api.html">Tax-Calculator Python API</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="calcfunctions.html">Tax-Calculator CalcFunctions</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Tax-Calculator Calculator</a></li>
<li class="toctree-l2"><a class="reference internal" href="consumption.html">Tax-Calculator Consumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html">Tax-Calculator Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="decorators.html">Tax-Calculator Decorators</a></li>
<li class="toctree-l2"><a class="reference internal" href="growdiff.html">Tax-Calculator GrowDiff</a></li>
<li class="toctree-l2"><a class="reference internal" href="growfactors.html">Tax-Calculator GrowFactors</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters.html">Tax-Calculator Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="policy.html">Tax-Calculator Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="records.html">Tax-Calculator Records</a></li>
<li class="toctree-l2"><a class="reference internal" href="taxcalcio.html">Tax-Calculator IO</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Tax-Calculator Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilsprvt.html">Tax-Calculator Private Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="calcfunctions.html">Tax-Calculator CalcFunctions</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Tax-Calculator Calculator</a></li>
<li class="toctree-l2"><a class="reference internal" href="consumption.html">Tax-Calculator Consumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html">Tax-Calculator Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="decorators.html">Tax-Calculator Decorators</a></li>
<li class="toctree-l2"><a class="reference internal" href="growdiff.html">Tax-Calculator GrowDiff</a></li>
<li class="toctree-l2"><a class="reference internal" href="growfactors.html">Tax-Calculator GrowFactors</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters.html">Tax-Calculator Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="policy.html">Tax-Calculator Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="records.html">Tax-Calculator Records</a></li>
<li class="toctree-l2"><a class="reference internal" href="taxcalcio.html">Tax-Calculator IO</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Tax-Calculator Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilsprvt.html">Tax-Calculator Private Utilities</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tax-Calculator use cases</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../use_cases.html">Recorded use cases</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/PSLmodels/Tax-Calculator" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/PSLmodels/Tax-Calculator/edit/master/docs/api/calculator.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/PSLmodels/Tax-Calculator/issues/new?title=Issue%20on%20page%20%2Fapi/calculator.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/api/calculator.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Tax-Calculator Calculator</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc-calculator">taxcalc.calculator</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator"><code class="docutils literal notranslate"><span class="pre">Calculator</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator._calc_one_year"><code class="docutils literal notranslate"><span class="pre">Calculator._calc_one_year()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator._taxinc_to_amt"><code class="docutils literal notranslate"><span class="pre">Calculator._taxinc_to_amt()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.advance_to_year"><code class="docutils literal notranslate"><span class="pre">Calculator.advance_to_year()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.array"><code class="docutils literal notranslate"><span class="pre">Calculator.array()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.atr_graph"><code class="docutils literal notranslate"><span class="pre">Calculator.atr_graph()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.calc_all"><code class="docutils literal notranslate"><span class="pre">Calculator.calc_all()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.ce_aftertax_income"><code class="docutils literal notranslate"><span class="pre">Calculator.ce_aftertax_income()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.consump_benval_params"><code class="docutils literal notranslate"><span class="pre">Calculator.consump_benval_params()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.consump_param"><code class="docutils literal notranslate"><span class="pre">Calculator.consump_param()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.dataframe"><code class="docutils literal notranslate"><span class="pre">Calculator.dataframe()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.diagnostic_table"><code class="docutils literal notranslate"><span class="pre">Calculator.diagnostic_table()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.difference_table"><code class="docutils literal notranslate"><span class="pre">Calculator.difference_table()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.distribution_tables"><code class="docutils literal notranslate"><span class="pre">Calculator.distribution_tables()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.incarray"><code class="docutils literal notranslate"><span class="pre">Calculator.incarray()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.increment_year"><code class="docutils literal notranslate"><span class="pre">Calculator.increment_year()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.mtr"><code class="docutils literal notranslate"><span class="pre">Calculator.mtr()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.mtr_graph"><code class="docutils literal notranslate"><span class="pre">Calculator.mtr_graph()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.n65"><code class="docutils literal notranslate"><span class="pre">Calculator.n65()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.pch_graph"><code class="docutils literal notranslate"><span class="pre">Calculator.pch_graph()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.policy_param"><code class="docutils literal notranslate"><span class="pre">Calculator.policy_param()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.read_json_param_objects"><code class="docutils literal notranslate"><span class="pre">Calculator.read_json_param_objects()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.reform_documentation"><code class="docutils literal notranslate"><span class="pre">Calculator.reform_documentation()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.restore_records"><code class="docutils literal notranslate"><span class="pre">Calculator.restore_records()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.store_records"><code class="docutils literal notranslate"><span class="pre">Calculator.store_records()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.total_weight"><code class="docutils literal notranslate"><span class="pre">Calculator.total_weight()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.weighted_total"><code class="docutils literal notranslate"><span class="pre">Calculator.weighted_total()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.zeroarray"><code class="docutils literal notranslate"><span class="pre">Calculator.zeroarray()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="tax-calculator-calculator">
<span id="calculator"></span><h1>Tax-Calculator Calculator<a class="headerlink" href="#tax-calculator-calculator" title="Link to this heading">#</a></h1>
<p><strong>Tax-Calculator Calculator</strong></p>
<section id="taxcalc-calculator">
<h2>taxcalc.calculator<a class="headerlink" href="#taxcalc-calculator" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">taxcalc.calculator.</span></span><span class="sig-name descname"><span class="pre">Calculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">records</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_years</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator" title="Link to this definition">#</a></dt>
<dd><p>Constructor for the Calculator class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>policy</strong> (<em>Policy class object</em>) – this argument must be specified and object is copied for internal use</p></li>
<li><p><strong>records</strong> (<em>Records class object</em>) – this argument must be specified and object is copied for internal use</p></li>
<li><p><strong>verbose</strong> (<em>boolean</em>) – specifies whether or not to write to stdout data-loaded and
data-extrapolated progress reports; default value is false.</p></li>
<li><p><strong>sync_years</strong> (<em>boolean</em>) – specifies whether or not to synchronize policy year and records year;
default value is true.</p></li>
<li><p><strong>consumption</strong> (<em>Consumption class object</em>) – specifies consumption response assumptions used to calculate
“effective” marginal tax rates; default is None, which implies
no consumption responses assumed in marginal tax rate calculations;
when argument is an object it is copied for internal use;
also specifies consumption value of in-kind benefis with no in-kind
consumption values specified implying consumption value is equal to
government cost of providing the in-kind benefits</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError:</strong> – if parameters are not the appropriate type.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>class instance</strong></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#taxcalc.calculator.Calculator" title="taxcalc.calculator.Calculator">Calculator</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The most efficient way to specify current-law and reform Calculator
objects is as follows:</p>
<blockquote>
<div><p>pol = Policy()
rec = Records()
calc1 = Calculator(policy=pol, records=rec)  # current-law
pol.implement_reform(…)
calc2 = Calculator(policy=pol, records=rec)  # reform</p>
</div></blockquote>
<p>All calculations are done on the internal copies of the Policy and
Records objects passed to each of the two Calculator constructors.</p>
<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator._calc_one_year">
<span class="sig-name descname"><span class="pre">_calc_one_year</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zero_out_calc_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator._calc_one_year"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator._calc_one_year" title="Link to this definition">#</a></dt>
<dd><p>Call all the functions except those in the calc_all() method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator._taxinc_to_amt">
<span class="sig-name descname"><span class="pre">_taxinc_to_amt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator._taxinc_to_amt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator._taxinc_to_amt" title="Link to this definition">#</a></dt>
<dd><p>Call TaxInc through AMT functions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.advance_to_year">
<span class="sig-name descname"><span class="pre">advance_to_year</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.advance_to_year"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.advance_to_year" title="Link to this definition">#</a></dt>
<dd><p>The advance_to_year function gives an optional way of implementing
increment year functionality by immediately specifying the year
as input.  New year must be at least the current year.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.array">
<span class="sig-name descname"><span class="pre">array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.array" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>If variable_value is None, return numpy ndarray containing the</dt><dd><p>named variable in embedded Records object.</p>
</dd>
<dt>If variable_value is not None, set named variable in embedded Records</dt><dd><p>object to specified variable_value and return None (which can be
ignored).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.atr_graph">
<span class="sig-name descname"><span class="pre">atr_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atr_measure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'combined'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pop_quantiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.atr_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.atr_graph" title="Link to this definition">#</a></dt>
<dd><p>Create average tax rate graph that can be written to an HTML
file (using the write_graph_file utility function) or shown on
the screen immediately in an interactive or notebook session
(following the instructions in the documentation of the
xtr_graph_plot utility function).  The graph shows the mean
average tax rate for each expanded-income percentile excluding
any percentile that includes a filing unit with negative or
zero basline (self) expanded income.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calc</strong> (<em>Calculator object</em>) – calc represents the reform while self represents the baseline,
where both self and calc have calculated taxes for this year
before being used by this method</p></li>
<li><p><strong>mars</strong> (<em>integer</em><em> or </em><em>string</em>) – <p>specifies which filing status subgroup to show in the graph</p>
<ul>
<li><p>’ALL’: include all filing units in sample</p></li>
<li><p>1: include only single filing units</p></li>
<li><p>2: include only married-filing-jointly filing units</p></li>
<li><p>3: include only married-filing-separately filing units</p></li>
<li><p>4: include only head-of-household filing units</p></li>
</ul>
</p></li>
<li><p><strong>atr_measure</strong> (<em>string</em>) – <p>specifies which average tax rate to show on graph’s y axis</p>
<ul>
<li><p>’itax’: average individual income tax rate</p></li>
<li><p>’ptax’: average payroll tax rate</p></li>
<li><p>’combined’: sum of average income and payroll tax rates</p></li>
</ul>
</p></li>
<li><p><strong>pop_quantiles</strong> (<em>boolean</em>) – specifies whether or not weighted_deciles contain an equal number
of people (True) or an equal number of filing units (False)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>graph that is a bokeh.plotting figure object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.calc_all">
<span class="sig-name descname"><span class="pre">calc_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zero_out_calc_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.calc_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.calc_all" title="Link to this definition">#</a></dt>
<dd><p>Call all tax-calculation functions for the current_year.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.ce_aftertax_income">
<span class="sig-name descname"><span class="pre">ce_aftertax_income</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">require_no_agg_tax_change</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.ce_aftertax_income"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.ce_aftertax_income" title="Link to this definition">#</a></dt>
<dd><p>Return dictionary that contains certainty-equivalent of the
expected utility of after-tax expanded income computed for
several constant-relative-risk-aversion parameter values
for each of two Calculator objects: self, which represents
the pre-reform situation, and calc, which represents the
post-reform situation, both of which MUST have had calc_call()
called before being passed to this function.</p>
<p>IMPORTANT NOTES: These normative welfare calculations are very
simple.  It is assumed that utility is a function of only
consumption, and that consumption is equal to after-tax
income.  This means that any assumed responses that
change work effort will not affect utility via the
correpsonding change in leisure.  And any saving response to
changes in after-tax income do not affect consumption.</p>
<p>The cmin value is the consumption level below which marginal
utility is considered to be constant.  This allows the handling
of filing units with very low or even negative after-tax expanded
income in the expected-utility and certainty-equivalent calculations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.consump_benval_params">
<span class="sig-name descname"><span class="pre">consump_benval_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.consump_benval_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.consump_benval_params" title="Link to this definition">#</a></dt>
<dd><p>Return list of benefit-consumption-value parameter values
in embedded Consumption object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.consump_param">
<span class="sig-name descname"><span class="pre">consump_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.consump_param"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.consump_param" title="Link to this definition">#</a></dt>
<dd><p>Return value of named parameter in embedded Consumption object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.dataframe">
<span class="sig-name descname"><span class="pre">dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.dataframe" title="Link to this definition">#</a></dt>
<dd><p>Return Pandas DataFrame containing the listed variables from the
embedded Records object.  If all_vars is True, then the variable_list
is ignored and all variables used as input to and calculated by the
Calculator.calc_all() method (which does not include marginal tax
rates) are included in the returned Pandas DataFrame.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.diagnostic_table">
<span class="sig-name descname"><span class="pre">diagnostic_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_years</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.diagnostic_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.diagnostic_table" title="Link to this definition">#</a></dt>
<dd><p>Generate multi-year diagnostic table containing aggregate statistics;
this method leaves the Calculator object unchanged.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>num_years</strong> (<em>Integer</em>) – number of years to include in diagnostic table starting
with the Calculator object’s current_year (must be at least
one and no more than what would exceed Policy end_year)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Pandas DataFrame object containing the multi-year diagnostic table</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.difference_table">
<span class="sig-name descname"><span class="pre">difference_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupby</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tax_to_diff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pop_quantiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.difference_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.difference_table" title="Link to this definition">#</a></dt>
<dd><p>Get results from self and calc, sort them by expanded_income into
table rows defined by groupby, compute grouped statistics, and
return tax-difference table as a Pandas dataframe.
This method leaves the Calculator objects unchanged.
Note that the returned tables have consistent income groups (based
on the self expanded_income) even though the baseline expanded_income
in self and the reform expanded_income in calc are different.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calc</strong> (<em>Calculator object</em>) – calc represents the reform while self represents the baseline</p></li>
<li><p><strong>groupby</strong> (<em>String object</em>) – options for input: ‘weighted_deciles’, ‘standard_income_bins’
determines how the columns in resulting Pandas DataFrame are sorted</p></li>
<li><p><strong>tax_to_diff</strong> (<em>String object</em>) – options for input: ‘iitax’, ‘payrolltax’, ‘combined’
specifies which tax to difference</p></li>
<li><p><strong>pop_quantiles</strong> (<em>boolean</em>) – specifies whether or not weighted_deciles contain an equal number
of people (True) or an equal number of filing units (False)</p></li>
<li><p><strong>usage</strong> (<em>Returns and typical</em>)</p></li>
<li><p><strong>-------------------------</strong></p></li>
<li><p><strong>calc1.difference_table</strong><strong>(</strong><strong>calc2</strong> (<em>diff =</em>)</p></li>
<li><p><strong>'weighted_deciles'</strong></p></li>
<li><p><strong>'iitax'</strong><strong>)</strong></p></li>
<li><p><strong>object</strong> (<em>(</em><em>where calc1 is a baseline Calculator</em>)</p></li>
<li><p><strong>object</strong><strong>)</strong><strong>.</strong> (<em>and calc2 is a reform Calculator</em>)</p></li>
<li><p><strong>DataFrame</strong> (<em>The returned diff is a difference table as a Pandas</em>)</p></li>
<li><p><strong>rows.</strong> (<em>with DIST_TABLE_COLUMNS and groupby</em>)</p></li>
<li><p><strong>NOTE</strong> (<em>when groupby is 'weighted_deciles'</em><em>, </em><em>the returned table has three</em>) – extra rows containing top-decile detail consisting of statistics
for the 0.90-0.95 quantile range (bottom half of top decile),
for the 0.95-0.99 quantile range, and
for the 0.99-1.00 quantile range (top one percent); and the
returned table splits the bottom decile into filing units with
negative (denoted by a 0-10n row label),
zero (denoted by a 0-10z row label), and
positive (denoted by a 0-10p row label) values of the
specified income_measure.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.distribution_tables">
<span class="sig-name descname"><span class="pre">distribution_tables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupby</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pop_quantiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.distribution_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.distribution_tables" title="Link to this definition">#</a></dt>
<dd><p>Get results from self and calc, sort them by expanded_income into
table rows defined by groupby, compute grouped statistics, and
return tables as a pair of Pandas dataframes.
This method leaves the Calculator object(s) unchanged.
Note that the returned tables have consistent income groups (based
on the self expanded_income) even though the baseline expanded_income
in self and the reform expanded_income in calc are different.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calc</strong> (<em>Calculator object</em><em> or </em><em>None</em>) – typically represents the reform while self represents the baseline;
if calc is None, the second returned table is None</p></li>
<li><p><strong>groupby</strong> (<em>String object</em>) – <dl class="simple">
<dt>options for input: ‘weighted_deciles’, ‘standard_income_bins’,</dt><dd><p>’soi_agi_bins’</p>
</dd>
</dl>
<p>determines how the columns in resulting Pandas DataFrame are sorted</p>
</p></li>
<li><p><strong>pop_quantiles</strong> (<em>boolean</em>) – specifies whether or not weighted_deciles contain an equal number
of people (True) or an equal number of filing units (False)</p></li>
<li><p><strong>scaling</strong> (<em>boolean</em>) – specifies create_distribution_table utility function argument
that determines whether table entry values are scaled or not</p></li>
<li><p><strong>usage</strong> (<em>Return and typical</em>)</p></li>
<li><p><strong>------------------------</strong></p></li>
<li><p><strong>dist1</strong></p></li>
<li><p><strong>calc1.distribution_tables</strong><strong>(</strong><strong>calc2</strong> (<em>dist2 =</em>)</p></li>
<li><p><strong>'weighted_deciles'</strong><strong>)</strong></p></li>
<li><p><strong>OR</strong></p></li>
<li><p><strong>dist1</strong></p></li>
<li><p><strong>calc1.distribution_tables</strong><strong>(</strong><strong>None</strong> (<em>_ =</em>)</p></li>
<li><p><strong>'weighted_deciles'</strong><strong>)</strong></p></li>
<li><p><strong>object</strong> (<em>(</em><em>where calc1 is a baseline Calculator</em>)</p></li>
<li><p><strong>object</strong><strong>)</strong><strong>.</strong> (<em>and calc2 is a reform Calculator</em>)</p></li>
<li><p><strong>a</strong> (<em>Each</em><em> of </em><em>the dist1 and optional dist2 is a distribution table as</em>)</p></li>
<li><p><strong>rows.</strong> (<em>Pandas DataFrame with DIST_TABLE_COLUMNS and groupby</em>)</p></li>
<li><p><strong>NOTE</strong> (<em>when groupby is 'weighted_deciles'</em><em>, </em><em>the returned tables have 3</em>) – extra rows containing top-decile detail consisting of statistics
for the 0.90-0.95 quantile range (bottom half of top decile),
for the 0.95-0.99 quantile range, and
for the 0.99-1.00 quantile range (top one percent); and the
returned table splits the bottom decile into filing units with
negative (denoted by a 0-10n row label),
zero (denoted by a 0-10z row label), and
positive (denoted by a 0-10p row label) values of the
specified income_measure.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.incarray">
<span class="sig-name descname"><span class="pre">incarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_add</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.incarray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.incarray" title="Link to this definition">#</a></dt>
<dd><p>Add variable_add to named variable in embedded Records object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.increment_year">
<span class="sig-name descname"><span class="pre">increment_year</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.increment_year"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.increment_year" title="Link to this definition">#</a></dt>
<dd><p>Advance all embedded objects to next year.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.mtr">
<span class="sig-name descname"><span class="pre">mtr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'e00200p'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">negative_finite_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_out_calculated_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calc_all_already_called</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrt_full_compensation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.mtr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.mtr" title="Link to this definition">#</a></dt>
<dd><p>Calculates the marginal payroll, individual income, and combined
tax rates for every tax filing unit, leaving the Calculator object
in exactly the same state as it would be in after a calc_all() call.</p>
<p>The marginal tax rates are approximated as the change in tax
liability caused by a small increase (the finite_diff) in the variable
specified by the variable_str divided by that small increase in the
variable, when wrt_full_compensation is false.</p>
<p>If wrt_full_compensation is true, then the marginal tax rates
are computed as the change in tax liability divided by the change
in total compensation caused by the small increase in the variable
(where the change in total compensation is the sum of the small
increase in the variable and any increase in the employer share of
payroll taxes caused by the small increase in the variable).</p>
<p>If using ‘e00200s’ as variable_str, the marginal tax rate for all
records where MARS != 2 will be missing.  If you want to perform a
function such as np.mean() on the returned arrays, you will need to
account for this.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable_str</strong> (<em>string</em>) – specifies type of income or expense that is increased to compute
the marginal tax rates.  See Notes for list of valid variables.</p></li>
<li><p><strong>negative_finite_diff</strong> (<em>boolean</em>) – specifies whether or not marginal tax rates are computed by
subtracting (rather than adding) a small finite_diff amount
to the specified variable.</p></li>
<li><p><strong>zero_out_calculated_vars</strong> (<em>boolean</em>) – specifies value of zero_out_calc_vars parameter used in calls
of Calculator.calc_all() method.</p></li>
<li><p><strong>calc_all_already_called</strong> (<em>boolean</em>) – specifies whether self has already had its Calculor.calc_all()
method called, in which case this method will not do a final
calc_all() call but use the incoming embedded Records object
as the outgoing Records object embedding in self.</p></li>
<li><p><strong>wrt_full_compensation</strong> (<em>boolean</em>) – specifies whether or not marginal tax rates on earned income
are computed with respect to (wrt) changes in total compensation
that includes the employer share of OASDI and HI payroll taxes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>A tuple of numpy arrays in the following order</em></p></li>
<li><p><strong>mtr_payrolltax</strong> (<em>an array of marginal payroll tax rates.</em>)</p></li>
<li><p><strong>mtr_incometax</strong> (<em>an array of marginal individual income tax rates.</em>)</p></li>
<li><p><strong>mtr_combined</strong> (<em>an array of marginal combined tax rates, which is</em>) – the sum of mtr_payrolltax and mtr_incometax.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The arguments zero_out_calculated_vars and calc_all_already_called
cannot both be true.</p>
<p>Valid variable_str values are:
‘e00200p’, taxpayer wage/salary earnings (also included in e00200);
‘e00200s’, spouse wage/salary earnings (also included in e00200);
‘e00900p’, taxpayer Schedule C self-employment income (also in e00900);
‘e00300’,  taxable interest income;
‘e00400’,  federally-tax-exempt interest income;
‘e00600’,  all dividends included in AGI
‘e00650’,  qualified dividends (also included in e00600)
‘e01400’,  federally-taxable IRA distribution;
‘e01700’,  federally-taxable pension benefits;
‘e02000’,  Schedule E total net income/loss
‘e02400’,  all social security (OASDI) benefits;
‘p22250’,  short-term capital gains;
‘p23250’,  long-term capital gains;
‘e18500’,  Schedule A real-estate-tax paid;
‘e19200’,  Schedule A interest paid;
‘e26270’,  S-corporation/partnership income (also included in e02000);
‘e19800’,  Charity cash contributions;
‘e20100’,  Charity non-cash contributions;
‘k1bx14p’, Partnership income (also included in e26270 and e02000).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.mtr_graph">
<span class="sig-name descname"><span class="pre">mtr_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mtr_measure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'combined'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mtr_variable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'e00200p'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alt_e00200p_text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mtr_wrt_full_compen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_measure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'expanded_income'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pop_quantiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dollar_weighting</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.mtr_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.mtr_graph" title="Link to this definition">#</a></dt>
<dd><p>Create marginal tax rate graph that can be written to an HTML
file (using the write_graph_file utility function) or shown on
the screen immediately in an interactive or notebook session
(following the instructions in the documentation of the
xtr_graph_plot utility function).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calc</strong> (<em>Calculator object</em>) – calc represents the reform while self represents the baseline</p></li>
<li><p><strong>mars</strong> (<em>integer</em><em> or </em><em>string</em>) – <p>specifies which filing status subgroup to show in the graph</p>
<ul>
<li><p>’ALL’: include all filing units in sample</p></li>
<li><p>1: include only single filing units</p></li>
<li><p>2: include only married-filing-jointly filing units</p></li>
<li><p>3: include only married-filing-separately filing units</p></li>
<li><p>4: include only head-of-household filing units</p></li>
</ul>
</p></li>
<li><p><strong>mtr_measure</strong> (<em>string</em>) – <p>specifies which marginal tax rate to show on graph’s y axis</p>
<ul>
<li><p>’itax’: marginal individual income tax rate</p></li>
<li><p>’ptax’: marginal payroll tax rate</p></li>
<li><p>’combined’: sum of marginal income and payroll tax rates</p></li>
</ul>
</p></li>
<li><p><strong>mtr_variable</strong> (<em>string</em>) – any string in the Calculator.VALID_MTR_VARS set
specifies variable to change in order to compute marginal tax rates</p></li>
<li><p><strong>alt_e00200p_text</strong> (<em>string</em>) – text to use in place of mtr_variable
when mtr_variable is ‘e00200p’;
if empty string then use ‘e00200p’</p></li>
<li><p><strong>mtr_wrt_full_compen</strong> (<em>boolean</em>) – see documentation of Calculator.mtr()
argument wrt_full_compensation
(value has an effect only if mtr_variable is ‘e00200p’)</p></li>
<li><p><strong>income_measure</strong> (<em>string</em>) – <p>specifies which income variable to show on the graph’s x axis</p>
<ul>
<li><p>’wages’: wage and salary income (e00200)</p></li>
<li><p>’agi’: adjusted gross income, AGI (c00100)</p></li>
<li><dl class="simple">
<dt>’expanded_income’: broader than AGI (see definition in</dt><dd><p>calcfunctions.py file).</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>pop_quantiles</strong> (<em>boolean</em>) – specifies whether or not weighted_deciles contain an equal number
of people (True) or an equal number of filing units (False)</p></li>
<li><p><strong>dollar_weighting</strong> (<em>boolean</em>) – False implies both income_measure percentiles on x axis
and mtr values for each percentile on the y axis are
computed without using dollar income_measure weights (just
sampling weights); True implies both income_measure
percentiles on x axis and mtr values for each percentile
on the y axis are computed using dollar income_measure
weights (in addition to sampling weights).  Specifying
True produces a graph x axis that shows income_measure
(not filing unit) percentiles.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>graph that is a bokeh.plotting figure object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.n65">
<span class="sig-name descname"><span class="pre">n65</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.n65"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.n65" title="Link to this definition">#</a></dt>
<dd><p>Return numpy ndarray containing the number of
individuals age 65+ in each filing unit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.pch_graph">
<span class="sig-name descname"><span class="pre">pch_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pop_quantiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.pch_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.pch_graph" title="Link to this definition">#</a></dt>
<dd><p>Create percentage change in after-tax expanded income graph that
can be written to an HTML file (using the write_graph_file utility
function) or shown on the screen immediately in an interactive or
notebook session (following the instructions in the documentation
of the xtr_graph_plot utility function).  The graph shows the
dollar-weighted mean percentage change in after-tax expanded income
for each expanded-income percentile excluding any percentile that
includes a filing unit with negative or zero basline (self) expanded
income.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calc</strong> (<em>Calculator object</em>) – calc represents the reform while self represents the baseline,
where both self and calc have calculated taxes for this year
before being used by this method</p></li>
<li><p><strong>pop_quantiles</strong> (<em>boolean</em>) – specifies whether or not weighted_deciles contain an equal number
of people (True) or an equal number of filing units (False)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>graph that is a bokeh.plotting figure object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.policy_param">
<span class="sig-name descname"><span class="pre">policy_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.policy_param"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.policy_param" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>If param_value is None, return named parameter in</dt><dd><p>embedded Policy object.</p>
</dd>
<dt>If param_value is not None, set named parameter in</dt><dd><p>embedded Policy object to specified param_value and
return None (which can be ignored).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.read_json_param_objects">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_json_param_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assump</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.read_json_param_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.read_json_param_objects" title="Link to this definition">#</a></dt>
<dd><p>Read JSON reform and assump objects and
return a composite dictionary containing four key:dict pairs:
‘policy’:dict, ‘consumption’:dict,
‘growdiff_baseline’:dict, and ‘growdiff_response’:dict.</p>
<p>Note that either of the two function arguments can be None.
If reform is None, the dict in the ‘policy’:dict pair is empty.
If assump is None, the dict in all the other key:dict pairs is empty.</p>
<p>Also note that either of the two function arguments can be strings
containing a valid JSON string (rather than a local filename).</p>
<p>Either of the two function arguments can also be a valid URL string
beginning with ‘http’ and pointing to a valid JSON file hosted online.</p>
<p>The reform file/URL contents or JSON string must be like this:
{“policy”: {…}} OR {…}
(in other words, the top-level policy key is optional)
and the assump file/URL contents or JSON string must be like this:
{“consumption”: {…},</p>
<blockquote>
<div><p>“growdiff_baseline”: {…},
“growdiff_response”: {…}}</p>
</div></blockquote>
<p>The {…} should be empty like this {} if not specifying a policy
reform or if not specifying any non-default economic assumptions
of that type.</p>
<p>The ‘policy’ subdictionary of the returned dictionary is
suitable as input into the Policy.implement_reform method.</p>
<p>The ‘consumption’ subdictionary of the returned dictionary is
suitable as input into the Consumption.update_consumption method.</p>
<p>The ‘growdiff_baseline’ subdictionary of the returned dictionary is
suitable as input into the GrowDiff.update_growdiff method.</p>
<p>The ‘growdiff_response’ subdictionary of the returned dictionary is
suitable as input into the GrowDiff.update_growdiff method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.reform_documentation">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reform_documentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">growfactors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">policy_dicts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.reform_documentation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.reform_documentation" title="Link to this definition">#</a></dt>
<dd><p>Generate reform documentation versus current-law policy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>dict</em>) – dictionary is structured like dict returned from
the static Calculator.read_json_param_objects() method</p></li>
<li><p><strong>growfactors</strong> (<a class="reference internal" href="growfactors.html#taxcalc.growfactors.GrowFactors" title="taxcalc.growfactors.GrowFactors"><em>GrowFactors</em></a>) – GrowFactors object used to construct Calculator Policy object</p></li>
<li><p><strong>policy_dicts</strong> (<em>list</em><em> of </em><em>dict</em><em> or </em><em>None</em>) – each dictionary in list is a params[‘policy’] dictionary
representing second and subsequent elements of a compound
reform; None implies no compound reform with the simple
reform characterized in the params[‘policy’] dictionary</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>doc</strong> – the documentation for the specified policy reform</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>String</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.restore_records">
<span class="sig-name descname"><span class="pre">restore_records</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.restore_records"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.restore_records" title="Link to this definition">#</a></dt>
<dd><p>Set the embedded Records object to the stored Records object
that was saved in the last call to the store_records() method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.store_records">
<span class="sig-name descname"><span class="pre">store_records</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.store_records"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.store_records" title="Link to this definition">#</a></dt>
<dd><p>Make internal copy of embedded Records object that can then be
restored after interim calculations that make temporary changes
to the embedded Records object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.total_weight">
<span class="sig-name descname"><span class="pre">total_weight</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.total_weight"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.total_weight" title="Link to this definition">#</a></dt>
<dd><p>Return all-filing-unit total of sampling weights.
NOTE: var_weighted_mean = calc.weighted_total(var)/calc.total_weight()</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.weighted_total">
<span class="sig-name descname"><span class="pre">weighted_total</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.weighted_total"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.weighted_total" title="Link to this definition">#</a></dt>
<dd><p>Return all-filing-unit weighted total of named Records variable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="taxcalc.calculator.Calculator.zeroarray">
<span class="sig-name descname"><span class="pre">zeroarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/taxcalc/calculator.html#Calculator.zeroarray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#taxcalc.calculator.Calculator.zeroarray" title="Link to this definition">#</a></dt>
<dd><p>Set named variable in embedded Records object to zeros.</p>
</dd></dl>

</dd></dl>

</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./api"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="calcfunctions.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Tax-Calculator CalcFunctions</p>
      </div>
    </a>
    <a class="right-next"
       href="consumption.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tax-Calculator Consumption</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc-calculator">taxcalc.calculator</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator"><code class="docutils literal notranslate"><span class="pre">Calculator</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator._calc_one_year"><code class="docutils literal notranslate"><span class="pre">Calculator._calc_one_year()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator._taxinc_to_amt"><code class="docutils literal notranslate"><span class="pre">Calculator._taxinc_to_amt()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.advance_to_year"><code class="docutils literal notranslate"><span class="pre">Calculator.advance_to_year()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.array"><code class="docutils literal notranslate"><span class="pre">Calculator.array()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.atr_graph"><code class="docutils literal notranslate"><span class="pre">Calculator.atr_graph()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.calc_all"><code class="docutils literal notranslate"><span class="pre">Calculator.calc_all()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.ce_aftertax_income"><code class="docutils literal notranslate"><span class="pre">Calculator.ce_aftertax_income()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.consump_benval_params"><code class="docutils literal notranslate"><span class="pre">Calculator.consump_benval_params()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.consump_param"><code class="docutils literal notranslate"><span class="pre">Calculator.consump_param()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.dataframe"><code class="docutils literal notranslate"><span class="pre">Calculator.dataframe()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.diagnostic_table"><code class="docutils literal notranslate"><span class="pre">Calculator.diagnostic_table()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.difference_table"><code class="docutils literal notranslate"><span class="pre">Calculator.difference_table()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.distribution_tables"><code class="docutils literal notranslate"><span class="pre">Calculator.distribution_tables()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.incarray"><code class="docutils literal notranslate"><span class="pre">Calculator.incarray()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.increment_year"><code class="docutils literal notranslate"><span class="pre">Calculator.increment_year()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.mtr"><code class="docutils literal notranslate"><span class="pre">Calculator.mtr()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.mtr_graph"><code class="docutils literal notranslate"><span class="pre">Calculator.mtr_graph()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.n65"><code class="docutils literal notranslate"><span class="pre">Calculator.n65()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.pch_graph"><code class="docutils literal notranslate"><span class="pre">Calculator.pch_graph()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.policy_param"><code class="docutils literal notranslate"><span class="pre">Calculator.policy_param()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.read_json_param_objects"><code class="docutils literal notranslate"><span class="pre">Calculator.read_json_param_objects()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.reform_documentation"><code class="docutils literal notranslate"><span class="pre">Calculator.reform_documentation()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.restore_records"><code class="docutils literal notranslate"><span class="pre">Calculator.restore_records()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.store_records"><code class="docutils literal notranslate"><span class="pre">Calculator.store_records()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.total_weight"><code class="docutils literal notranslate"><span class="pre">Calculator.total_weight()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.weighted_total"><code class="docutils literal notranslate"><span class="pre">Calculator.weighted_total()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#taxcalc.calculator.Calculator.zeroarray"><code class="docutils literal notranslate"><span class="pre">Calculator.zeroarray()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Policy Simulation Library
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>